<div class="d-flex flex-row h-100vh">
  <div class="auth-form">
    <div class="h-flex">
      <a href="" class="unselectable">
        <img src="/assets/images/logo/infludash-logo.png" alt="logo" />
      </a>
    </div>
    <div class="h-flex">
      <form *ngIf="!loading; else currentlyLoading" [formGroup]="loginForm" (ngSubmit)="login()"
        class="d-flex flex-column" id="login">
        <mat-form-field appearance="outline">
          <mat-label>Email</mat-label>
          <input name="email" type="email" formControlName="email" matInput email required />
        </mat-form-field>
        <mat-form-field appearance="outline">
          <mat-label>Password</mat-label>
          <input name="password" [type]="hide ? 'password' : 'text'" formControlName="password" matInput required />
          <mat-icon class="visibility-toggle" matSuffix (click)="hide = !hide">{{hide ? 'visibility_off' :
            'visibility'}}</mat-icon>
        </mat-form-field>
        <input type="submit" class="btn btn-primary" value="Login" />
        <div class="d-flex flex-row justify-content-between">
          <mat-checkbox>Remember me</mat-checkbox>
          <a href="forgot-password">Forgot password?</a>
        </div>
        <div *ngIf="errorResponse.length !== 0" class="alert alert-danger mt-4" role="alert">
          <div *ngFor="let error of errorResponse" class="v-flex">
            <span class="material-icons">
              highlight_off
            </span>
            <span class="error-message">{{error}}</span><br>
          </div>
        </div>
      </form>
    </div>
    <p>Not a member yet?<a href="register">Register now</a></p>
  </div>
  <div class="auth-img"></div>
</div>


<ng-template #currentlyLoading>
  <div class="loader">
    <mat-spinner></mat-spinner>
  </div>
</ng-template>
